#
# Fvwm Config File
#
# Created 16 May 2019
#
###############################################################################

# Fvwm Environment

export FVWM_USERDIR=$HOME/.fvwm

# InfoStoreAdd can be used to store variable data internal to fvwm.
# The variable can then be used in the configuration as $[infostore.name].
#
# You can also use environment variables but for data internal to fvwm
# use InfoStore variables instead.
#
# The following is used in various menus and also sets the terminal
# that FvwmConsole uses. Change this to your terminal of choice
InfoStoreAdd terminal uxterm
InfoStoreAdd browser firefox
InfoStoreAdd mail thunderbird
InfoStoreAdd filemgr thunar
InfoStoreAdd editor subl3

# EdgeScroll will move the view port between the Pages when the mouse
# moves to the edge of the screen. This set the amount of distance to
# scroll at 100% (full page) and the EdgeResistance which is a timer
# for how long the mouse as at the edge before it scrolls.
#
# Set EdgeScroll 0 0 and/or EdgeResistance -1 to disable.
EdgeScroll 100 100
EdgeResistance 450
EdgeThickness 1
Style * EdgeMoveDelay 350, EdgeMoveResistance 350

# This sets the ClickTime and MoveThreshold used to determine
# Double Clicks, Hold and Move for the mouse.
ClickTime 250
MoveThreshold 3

# Sets the focus style to SloppyFocus and a mouse click
# in a window will Raise it.
# Style * SloppyFocus, MouseFocusClickRaises

# Set focus to click-to-focus and mouse click raises window
Style * ClickToFocus, MouseFocusClickRaises
ColorMapFocus  FollowsMouse

# Window Placement
Style * MinOverlapPlacement, GrabFocusOn, !UsePPosition

# Transient Windows (such as open file windows)
Style * DecorateTransient, StackTransientParent
Style * FPGrabFocusTransient, FPReleaseFocusTransient

# Sets all windows to OpaqueMove (vs a wired frame) and  windows will
# snap to each other and the edge of the screen.
# OpaqueMoveSize unlimited
OpaqueMoveSize 0
Style * ResizeOpaque, SnapAttraction 2 SameType ScreenAll, SnapGrid

# WindowShade
Style * WindowShadeScrolls, WindowShadeSteps 30

# Ignore Numlock and other modifiers for bindings
# See http://fvwm.org/documentation/faq/#why-do-numlock-capslock-and-scrolllock-interfere-with-clicktofocus-andor-my-mouse-bindings
IgnoreModifiers L25

# EwmhBaseStruts [left] [right] [top] [bottom]
# Reserves space along the edge(s) of the Screen that will not
# be covered when maximizing or placing windows.
EwmhBaseStruts 0 0 0 28

# Desktops and Pages
#
# Fvwm has both Virtual Desktops and Pages. Each Desktop is built from
# a grid of Pages. The following sets the name of four Desktops and then
# divides each Desktop into a 2x2 grid of Pages that are positioned as
#
#   +---+---+
#   |   |   |
#   +---+---+
#   |   |   |
#   +---+---+
#

DeskTopSize 1x1
EwmhNumberOfDesktops 4

# DesktopSize 3x3

DesktopName 0 1
DesktopName 1 2
DesktopName 2 3
DesktopName 3 4

## Cursor styles

# lean style
#CursorStyle root left_ptr
#CursorStyle default left_ptr 
#CursorStyle position left_ptr
#CursorStyle sys left_ptr 
#CursorStyle menu left_ptr
#CursorStyle title left_ptr
#CursorStyle resize fleur
#CursorStyle stroke cross
#CursorStyle select draped_box
#CursorStyle destroy pirate	#000000 white

# detailed style
CursorStyle ROOT            left_ptr                black    white
CursorStyle TITLE           left_ptr                black    white
CursorStyle DEFAULT         left_ptr                black    white
CursorStyle SYS             hand2                   black    white
CursorStyle MENU            left_ptr                black    white
CursorStyle POSITION        top_left_corner         black    white
CursorStyle MOVE            fleur                   black    white
CursorStyle RESIZE          sizing                  black    white
CursorStyle WAIT            watch                   black    white
CursorStyle SELECT          crosshair               black    white
CursorStyle DESTROY         pirate                  black    white
CursorStyle TOP             top_side                black    white
CursorStyle RIGHT           right_side              black    white
CursorStyle BOTTOM          bottom_side             black    white
CursorStyle LEFT            left_side               black    white
CursorStyle TOP_LEFT        top_left_corner         black    white
CursorStyle TOP_RIGHT       top_right_corner        black    white
CursorStyle BOTTOM_LEFT     bottom_left_corner      black    white
CursorStyle BOTTOM_RIGHT    bottom_right_corner     black    white
CursorStyle TOP_EDGE        top_side                black    white
CursorStyle RIGHT_EDGE      right_side              black    white
CursorStyle BOTTOM_EDGE     bottom_side             black    white
CursorStyle LEFT_EDGE       left_side               black    white
CursorStyle STROKE          plus                    black    white

DefaultFont "xft:Sans:regular:size=11:antialias=True"

#
# Configuration files
#

Read Colorsets

# Window decor read before module decor
# Read WindowDecor
# Read SkyDecor
# Read BlueDecor
# Read IslandDecor
Read MidnightDecor

Read AppSettings
Read Functions
Read Keys
Read Mouse
Read Menu
Read Modules

# Start Function
#
# The start function is run right after fvwm is done reading
# the config file. This function run after each restart
# so using Test (Init) or Test (Restart) can further control
# actions that are run during the first time run (Init) or
# actions that are run after a restart.

DestroyFunc StartFunction
AddToFunc   StartFunction

+ I Module FvwmEvent EventNewDesk
+ I Module FvwmButtons FvwmTaskBar


# Set wallpaper
+ I Test (Init) Exec sleep 2; exec fbsetbg -c -r "$HOME/wallpaper/"

# Panel
#+ I Test (Init) Exec tint2
#+ I Test (Restart) Exec tint2

# conky system information
# + I Test (Init) Exec sleep 3; exec $HOME/bin/ConkyFvwm.sh
# + I Test (Restart) Exec exec $HOME/bin/ConkyFvwm.sh

DestroyFunc ExitFunction
AddToFunc   ExitFunction
+ I Test (!ToRestart) Exec exec rm -f $[HOME]/.fvwm/icon.tmp.*
+ I Test (!ToRestart) Exec exec rm -f $[FVWM_USERDIR]/temp/*icon*
+ I Exec exec killall -q conky
+ I Exec exec killall -q xclock
+ I Exec exec killall -q stalonetray
+ I Exec exec killall -q polybar
+ I Exec exec killall -q tint2
+ I Exec exec killall -q xfce4-panel

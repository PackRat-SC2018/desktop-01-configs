{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/modules/local_storage.js","webpack:///./src/modules/email_service_link.js","webpack:///./src/modules/add_new_lines.js","webpack:///./images/stock_mail.png","webpack:///./src/modules/create_context.js","webpack:///./src/background.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getOptionsFn","mailOptions","mailOptionsLength","localStorage","mail_to","mail_before","mail_after","newLineAfter","newLineAfterNum","newLineBefore","newLineBeforeNum","getOptions","saveDefaultOptions","getOptionsShownCount","mailtype","optionsShownCount","getSingleOptionInt","optionInt","createEmailTab","info","tab","mailsrvr","newLineChar","newWindow","emailBody","urlString","pageTitle","linkUrl","title","getTitle","encodeURIComponent","pageUrl","url","getLink","beforeMsg","afterMsg","newLineAfterBody","newLineBeforeBody","beforeMsgEncoded","afterMsgEncoded","selectionTextBody","selectionText","createEmailMessage","chrome","tabs","update","emailLink","new_window_1","gmailLink","new_window_2","hotmailLink","new_window_3","office365Link","new_window_7","ymailLink","new_window_4","aolLink","new_window_5","emailLinks","openEmailHandler","mailPickerInt","query","currentWindow","active","linesEnabled","lineCount","breakChar","lineString","createContextItem","contextName","oncLink","contexts","context","length","contextMenus","onclick","favoriteMailto","mail_picker_1","favoriteGmail","mail_picker_2","favoriteHotmail","mail_picker_3","favoriteOffice365","mail_picker_7","favoriteYmail","mail_picker_4","favoriteAOL","mail_picker_5","mail_picker_6","firstRun","browserAction","setPopup","popup","onClicked","addListener"],"mappings":"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","file":"js/background.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","// Restores saved values from localStorage.\n// if none saved, use default values\nfunction getOptionsFn() {\n  const mailOptions = [];\n  const { mailOptionsLength } = localStorage;\n  let i;\n\n  // Restores each mail type\n  for (i = 0; i <= mailOptionsLength; i += 1) {\n    if (localStorage[`mail_picker_${i}`]) {\n      mailOptions[`mail_picker_${i}`] = localStorage[`mail_picker_${i}`];\n    } else {\n      // if not set, leave as off\n      mailOptions[`mail_picker_${i}`] = 'false';\n      // console.log(\"mail_picker_\" + i + \" not found\");\n    }\n    // console.log(\"mail_picker_\" + i + \": \" + localStorage[\"mail_picker_\" + i]);\n  }\n\n  for (i = 0; i <= mailOptionsLength; i += 1) {\n    if (localStorage[`new_window_${i}`]) {\n      mailOptions[`new_window_${i}`] = localStorage[`new_window_${i}`];\n    } else {\n      // if not set, leave as off\n      mailOptions[`new_window_${i}`] = 'false';\n      // console.log(\"new_window_\" + i + \" not found\");\n    }\n    // console.log(\"new_window_\" + i + \": \" + localStorage[\"new_window_\" + i]);\n  }\n\n  if (localStorage.mail_to) {\n    mailOptions.mail_to = localStorage.mail_to;\n  } else {\n    // default\n    mailOptions.mail_to = '';\n  }\n\n  // email body\n  if (localStorage.mail_before) {\n    mailOptions.mail_before = localStorage.mail_before;\n  } else {\n    // default\n    mailOptions.mail_before = '';\n  }\n  if (localStorage.mail_after) {\n    mailOptions.mail_after = localStorage.mail_after;\n  } else {\n    // default\n    mailOptions.mail_after = '';\n  }\n\n  // email body new lines\n  if (localStorage.newLineAfter) {\n    mailOptions.newLineAfter = localStorage.newLineAfter;\n  } else {\n    // default\n    mailOptions.newLineAfter = false;\n  }\n  if (localStorage.newLineAfterNum) {\n    mailOptions.newLineAfterNum = localStorage.newLineAfterNum;\n  } else {\n    // default\n    mailOptions.newLineAfterNum = 1;\n  }\n  if (localStorage.newLineBefore) {\n    mailOptions.newLineBefore = localStorage.newLineBefore;\n  } else {\n    // default\n    mailOptions.newLineBefore = false;\n  }\n  if (localStorage.newLineBeforeNum) {\n    mailOptions.newLineBeforeNum = localStorage.newLineBeforeNum;\n  } else {\n    // default\n    mailOptions.newLineBeforeNum = 1;\n  }\n\n  return mailOptions;\n}\n\nfunction saveDefaultOptionsFn() {\n  let i;\n\n  localStorage.mail_before = '';\n  localStorage.mail_after = '';\n  localStorage.mail_to = '';\n  localStorage.newLineAfter = false;\n  localStorage.newLineAfterNum = 1;\n  localStorage.newLineBefore = false;\n  localStorage.newLineBeforeNum = 1;\n\n  const { mailOptionsLength } = localStorage;\n  for (i = 0; i <= mailOptionsLength; i += 1) {\n    localStorage[`mail_picker_${i}`] = true;\n  }\n  for (i = 0; i <= mailOptionsLength; i += 1) {\n    localStorage[`new_window_${i}`] = false;\n  }\n}\n\n// Count how many mail options are enabled\nfunction getOptionsShownCountFn() {\n  // get saved values\n  const mailOptions = getOptionsFn();\n  const { mailOptionsLength } = localStorage;\n  let mailtype;\n  let optionsShownCount;\n  let i;\n\n  optionsShownCount = 0;\n\n  // Hide options not selected\n  for (i = 0; i <= mailOptionsLength; i += 1) {\n    mailtype = mailOptions[`mail_picker_${i}`];\n    if (mailtype === 'true') {\n      optionsShownCount += 1;\n    }\n  }\n\n  return optionsShownCount;\n}\n\n// Get the currently enabled mail option\nfunction getSingleOptionIntFn() {\n  // get saved values\n  const mailOptions = getOptionsFn();\n  const { mailOptionsLength } = localStorage;\n  let mailtype;\n  let optionInt;\n  let i;\n\n  // Hide options not selected\n  for (i = 0; i <= mailOptionsLength; i += 1) {\n    mailtype = mailOptions[`mail_picker_${i}`];\n    if (mailtype === 'true') {\n      optionInt = i;\n    }\n  }\n\n  return optionInt;\n}\n\nexport const getOptions = getOptionsFn;\nexport const saveDefaultOptions = saveDefaultOptionsFn;\nexport const getOptionsShownCount = getOptionsShownCountFn;\nexport const getSingleOptionInt = getSingleOptionIntFn;\n","/* global chrome */\n\nimport addNewLines from './add_new_lines';\nimport { getOptions } from './local_storage';\n\n// get title\nfunction getTitle(info, tab) {\n  let pageTitle;\n\n  if (info.linkUrl) {\n    // context if link\n    pageTitle = '';\n  } else {\n    pageTitle = tab.title;\n  }\n  // console.log(\"page title: \" + pageTitle);\n  return pageTitle;\n}\n\n// get link\nfunction getLink(info, tab) {\n  let pageUrl;\n\n  if (info.linkUrl) {\n    // context if link\n    pageUrl = info.linkUrl;\n  } else {\n    pageUrl = tab.url;\n  }\n  // pageUrl = encodeURIComponent(pageUrl);\n  // console.log(\"page url: \" + pageUrl);\n  return pageUrl;\n}\n\nfunction createEmailMessage(info, tab, mailsrvr, newLineChar) {\n  let pageUrl = getLink(info, tab);\n  // const pageTitle = getTitle(info, tab);\n\n  // Get stored options\n  const mailOptions = getOptions();\n  const {\n    newLineAfter,\n    newLineAfterNum,\n    newLineBefore,\n    newLineBeforeNum,\n  } = mailOptions;\n  const beforeMsg = mailOptions.mail_before;\n  const afterMsg = mailOptions.mail_after;\n\n  const newLineAfterBody = addNewLines(\n    newLineAfter,\n    newLineAfterNum,\n    newLineChar\n  );\n  const newLineBeforeBody = addNewLines(\n    newLineBefore,\n    newLineBeforeNum,\n    newLineChar\n  );\n  let emailBody = '';\n  let beforeMsgEncoded = beforeMsg || '';\n  let afterMsgEncoded = afterMsg || '';\n\n  pageUrl = encodeURIComponent(pageUrl);\n  // pageTitle = encodeURIComponent(pageTitle);\n\n  if (beforeMsgEncoded !== '' && newLineAfterBody === '') {\n    beforeMsgEncoded += ' ';\n  }\n  beforeMsgEncoded = encodeURIComponent(beforeMsgEncoded);\n\n  if (afterMsgEncoded !== '' && newLineBeforeBody === '') {\n    afterMsgEncoded = ` ${afterMsgEncoded}`;\n  }\n  afterMsgEncoded = encodeURIComponent(afterMsgEncoded);\n\n  // selectionText\n  let selectionTextBody = '';\n  if (info.selectionText) {\n    selectionTextBody = info.selectionText;\n    pageUrl = ` From ${pageUrl}`;\n  }\n\n  emailBody =\n    beforeMsgEncoded +\n    newLineAfterBody +\n    selectionTextBody +\n    pageUrl +\n    newLineBeforeBody +\n    afterMsgEncoded;\n  return emailBody;\n}\n\nfunction createEmailTab(info, tab, mailsrvr, newLineChar, newWindow) {\n  let emailBody = '';\n  let urlString = '';\n  // const pageUrl = getLink(info, tab);\n  let pageTitle = getTitle(info, tab);\n\n  // pageUrl = encodeURIComponent(pageUrl);\n  pageTitle = encodeURIComponent(pageTitle);\n\n  emailBody = createEmailMessage(info, tab, mailsrvr, newLineChar);\n\n  urlString = `${mailsrvr}${pageTitle}&body=${emailBody}`;\n\n  // open link in new tab\n  // window.open(mailsrvr+pageTitle+'&body='+emailBody); // JS method\n  if (newWindow === 'true') {\n    chrome.tabs.create({ url: urlString }); // chrome api method - new tab\n  } else {\n    chrome.tabs.update({ url: urlString }); // chrome api method - same page\n  }\n\n  // write log of items used for the URL\n  // console.log(\"link \" + pageUrl + \" - \" + pageTitle + \" was sent\");\n  // console.log(\"item \" + info.menuItemId + \" was clicked\");\n  // console.log(\"info: \" + JSON.stringify(info));\n  // console.log(\"tab: \" + JSON.stringify(tab));\n}\n\n// create a new email\nfunction emailLink(info, tab) {\n  const newLineChar = '%0A';\n\n  const mailOptions = getOptions();\n  const newWindow = mailOptions.new_window_1;\n  const mailTo = mailOptions.mail_to;\n\n  const mailsrvr = `mailto:${mailTo}?subject=`;\n  createEmailTab(info, tab, mailsrvr, newLineChar, newWindow);\n}\n\n// create a new Gmail\nfunction gmailLink(info, tab) {\n  const newLineChar = '%0A';\n\n  const mailOptions = getOptions();\n  const newWindow = mailOptions.new_window_2;\n  const mailTo = mailOptions.mail_to;\n\n  const mailsrvr = `https://mail.google.com/mail/?view=cm&fs=1&tf=1&=1&to=${mailTo}&su=`;\n  createEmailTab(info, tab, mailsrvr, newLineChar, newWindow);\n}\n\n// create a new hotmail\nfunction hotmailLink(info, tab) {\n  const newLineChar = '%0A';\n\n  const mailOptions = getOptions();\n  const newWindow = mailOptions.new_window_3;\n  const mailTo = mailOptions.mail_to;\n\n  // mailsrvr = 'http://mail.live.com/?rru=compose&to=' + mailTo + '&subject=';\n  const mailsrvr = `https://outlook.live.com/owa/?path=/mail/action/compose&to=${mailTo}&subject=`;\n  createEmailTab(info, tab, mailsrvr, newLineChar, newWindow);\n}\n\n// create a new Office365\nfunction office365Link(info, tab) {\n  const newLineChar = '%0A';\n\n  const mailOptions = getOptions();\n  const newWindow = mailOptions.new_window_7;\n  const mailTo = mailOptions.mail_to;\n\n  const mailsrvr = `https://outlook.office.com/owa/?path=/mail/action/compose&to=${mailTo}&subject=`;\n  createEmailTab(info, tab, mailsrvr, newLineChar, newWindow);\n}\n\n// create a new ymail / yahoo\nfunction ymailLink(info, tab) {\n  const newLineChar = '%0A';\n\n  const mailOptions = getOptions();\n  const newWindow = mailOptions.new_window_4;\n  const mailTo = mailOptions.mail_to;\n\n  const mailsrvr = `https://compose.mail.yahoo.com?to=${mailTo}&subject=`;\n  // mailsrvr = 'https://us-mg40.mail.yahoo.com/neo/launch?action=compose&to=' + mailTo + '&subj=';\n  // const mailsrvr = `https://mail.yahoo.com?to=${mailTo}&subject=`;\n  createEmailTab(info, tab, mailsrvr, newLineChar, newWindow);\n}\n\n// create a new AOL mail\nfunction aolLink(info, tab) {\n  const newLineChar = '%20'; // using space\n\n  const mailOptions = getOptions();\n  const newWindow = mailOptions.new_window_5;\n  const mailTo = mailOptions.mail_to;\n\n  const mailsrvr = `https://mail.aol.com/mail/ComposeMessage.aspx?to=${mailTo}&subject=`;\n  createEmailTab(info, tab, mailsrvr, newLineChar, newWindow);\n}\n\n// handle email link\nfunction openEmailHandlerFn(mailPickerInt) {\n  chrome.tabs.query({ currentWindow: true, active: true }, tabs => {\n    const tab = tabs[0];\n    const info = '';\n\n    switch (mailPickerInt) {\n      case 1:\n        emailLink(info, tab);\n        break;\n      case 5:\n        aolLink(info, tab);\n        break;\n      case 2:\n        gmailLink(info, tab);\n        break;\n      case 3:\n        hotmailLink(info, tab);\n        break;\n      case 7:\n        office365Link(info, tab);\n        break;\n      case 4:\n        ymailLink(info, tab);\n        break;\n      default:\n        break;\n    }\n  });\n}\n\nexport const emailLinks = {\n  emailLink,\n  gmailLink,\n  hotmailLink,\n  office365Link,\n  ymailLink,\n  aolLink,\n};\nexport const openEmailHandler = openEmailHandlerFn;\n","function addNewLines(linesEnabled, lineCount, breakChar) {\n  // add new lines\n  let lineString = '';\n  let i;\n\n  if (linesEnabled !== false && linesEnabled !== 'false' && lineCount >= 1) {\n    for (i = 0; i < lineCount; i += 1) {\n      lineString += breakChar;\n      // lineString = lineString + \"<br/>\";\n      // varName = varName + '%0A';\n    }\n  } else {\n    lineString = '';\n  }\n\n  return lineString;\n}\n\nexport default addNewLines;\n","export default __webpack_public_path__ + \"images/stock_mail.png\";","/* global chrome */\n\nimport { getOptions } from './local_storage';\nimport { emailLinks } from './email_service_link';\n\n// Create email page option for each context type.\nfunction createContextItem(contextName, oncLink) {\n  const contexts = ['page', 'link', 'selection'];\n  let context;\n  let title;\n  let i;\n\n  for (i = 0; i < contexts.length; i += 1) {\n    context = contexts[i];\n    title = `Send ${context} via ${contextName}`;\n    chrome.contextMenus.create({\n      title,\n      contexts: [context],\n      onclick: oncLink,\n    });\n    // console.log(\"added '\" + context + \"' for \" + contextName);\n  }\n}\n\nfunction createAllContext() {\n  // Get stored options\n  const mailOptions = getOptions();\n\n  const favoriteMailto = mailOptions.mail_picker_1;\n  const favoriteGmail = mailOptions.mail_picker_2;\n  const favoriteHotmail = mailOptions.mail_picker_3;\n  const favoriteOffice365 = mailOptions.mail_picker_7;\n  const favoriteYmail = mailOptions.mail_picker_4;\n  const favoriteAOL = mailOptions.mail_picker_5;\n\n  // Create email menu option for each context type in this order\n  if (favoriteMailto === 'true') {\n    createContextItem('Email', emailLinks.emailLink);\n  }\n  if (favoriteAOL === 'true') {\n    createContextItem('AOL Mail', emailLinks.aolLink);\n  }\n  if (favoriteGmail === 'true') {\n    createContextItem('Gmail', emailLinks.gmailLink);\n  }\n  if (favoriteHotmail === 'true') {\n    createContextItem('Outlook.com', emailLinks.hotmailLink);\n  }\n  if (favoriteOffice365 === 'true') {\n    createContextItem('Office 365', emailLinks.office365Link);\n  }\n  if (favoriteYmail === 'true') {\n    createContextItem('Yahoo Mail', emailLinks.ymailLink);\n  }\n}\n\nexport default createAllContext;\n","/* global chrome */\n\nimport '../images/stock_mail.png';\nimport {\n  saveDefaultOptions,\n  getOptionsShownCount,\n  getSingleOptionInt,\n} from './modules/local_storage';\nimport createAllContext from './modules/create_context';\nimport { openEmailHandler } from './modules/email_service_link';\n\n// Creates each of the links to be used by each type of Email client\nlocalStorage.mailOptionsLength = 7;\n// Turn off all Inbox selections\nlocalStorage.mail_picker_6 = false;\n\n// check for first run\nlet firstRun = localStorage.firstRun === 'true';\n// now save that first run has started\nif (!firstRun) {\n  localStorage.firstRun = 'true';\n\n  // check if any settings have been saved\n  const { mailOptionsLength } = localStorage;\n  let i;\n\n  for (i = 0; i <= mailOptionsLength; i += 1) {\n    if (\n      localStorage[`mail_picker_${i}`] === 'true' ||\n      localStorage[`mail_picker_${i}`] === 'false'\n    ) {\n      firstRun = 'true';\n      // console.log(\"Not first time - found save option: localStorage['mail_picker_\"+ i +\"']\n      // as \"+ localStorage[\"mail_picker_\"+i]);\n      break;\n    }\n  }\n}\n// run actions if first run & no settings saved\nif (!firstRun) {\n  // Set all options to default\n  saveDefaultOptions();\n}\n\n// Create email menu option for each context type\ncreateAllContext();\n\n// Check if only one option selected\nif (getOptionsShownCount() === 1) {\n  chrome.browserAction.setPopup({ popup: '' });\n  chrome.browserAction.onClicked.addListener(() => {\n    openEmailHandler(getSingleOptionInt());\n  });\n} else {\n  chrome.browserAction.setPopup({ popup: 'popup.html' });\n}\n"],"sourceRoot":""}